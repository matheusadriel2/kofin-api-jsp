.tx-block{
    max-height:420px;
    overflow-y:auto;

    /* esconde o desenho da barra sem impedir o scroll  */
    scrollbar-width:none;          /* Firefox */
    -ms-overflow-style:none;       /* IE/Edge antigo */
}
.tx-block::-webkit-scrollbar{    /* Chrome/Safari/Edge */
    display:none;
}
.tx-item:hover .tx-actions,
.tx-item.show-actions .tx-actions{opacity:1}
.tx-block{
    max-height:calc(100vh - 420px); /* ocupa resto da página com folga */
    min-height:260px;
    overflow-y:auto;
}
.tx-block:empty::before{
    content:"Sem transações ainda";
    display:block;text-align:center;
    margin-top:3rem;color:#adb5bd;
}

.cards-wrap  {position:relative;padding:1rem;background:#6c757d;border-radius:.5rem;}
.h-scroll {
    overflow-x: auto;
    white-space: nowrap;
    padding-right: calc(1rem + 50px);
}

.h-scroll::-webkit-scrollbar{display:none;}

.card-item   {
    min-width:200px; height:105px; margin-right:1rem;
    background: #61a2cf; border-radius:.5rem; padding:.75rem;
    position:relative;
}
.last4       { font-size:.70rem; }

.card-actions {
    position:absolute; top:4px; right:4px;
    opacity:0; pointer-events:none; transition:opacity .15s;
}
.card-item:hover .card-actions,
.card-item.show-actions .card-actions{
    opacity:1; pointer-events:auto;
}

.add-card-btn {
    width: 28px;
    height: 28px;
}

/* resumo */
.summary-wrap {
    background:#6c757d; border-radius:.5rem; padding:1rem;
    display:flex; flex:1; flex-direction:column;
}
.summary-wrap .summary-grid { flex:1; display:flex; gap:1rem; }
.summary-wrap .summary-grid > div {
    flex:1; display:flex; align-items:center; justify-content:center;
    background:#212529; border-radius:.5rem; padding:.75rem; text-align:center;
}

/* ============ BARRA de SCROLL (hint) ============ */
/* nova barra-dica HORIZONTAL */
.scroll-hint {
    position: absolute;
    bottom: 8px;              /* fixa junto à base do container */
    left: 50%;                /* centraliza horizontalmente */
    transform: translateX(-50%);
    width: 42px;              /* comprimento maior, alinhado ao scroll */
    height: 6px;              /* espessura fina */
    border-radius: 3px;
    background: #6c757d;
    opacity: 0;
    transition: opacity .2s;
    pointer-events: none;
}
.show-hint {
    opacity: .9;
}

/* ============ LISTA de TRANSAÇÕES ============ */
.tx-block{max-height:420px;overflow-y:auto;}

/* mostra os botões no hover ou após clique/tap */
.tx-item:hover .tx-actions,
.tx-item.show-actions .tx-actions{
    opacity:1 !important;     /* sobrepõe utility classes do Bootstrap   */
    pointer-events:auto;
}
.tx-actions{
    opacity:0;                 /* invisível                              */
    pointer-events:none;       /* nada clicável                          */
    transition:opacity .15s;   /* animação suave                         */
    position:absolute; top:4px; right:4px;          /* onde já estavam   */
    display:flex; gap:.25rem; z-index:5;             /* idem             */
}

.tx-item:hover .tx-actions,
.tx-item.show-actions .tx-actions{
    opacity:1 !important;      /* força aparecer (sobrepõe utilities)    */
    pointer-events:auto;       /* agora pode clicar                      */
}
/* cursor de “link” quando passar sobre uma transação */
.tx-item{cursor:pointer;}
/* wrapper posicionado */
.tx-col {
    position: relative;
}

/* scrollable */
/* Faz .tx-col ser flex coluna e preencher a altura da col-md-4 */
.tx-col {
    display: flex;
    flex-direction: column;
}

/* Faz tx-block crescer para preencher todo o wrapper */
.tx-block {
    flex: 1;
    overflow-y: auto;
    scrollbar-width: none;         /* Firefox */
    -ms-overflow-style: none;      /* IE11 */
}
.tx-block::-webkit-scrollbar {
    display: none;                 /* Chrome/Safari */
}

/* Indicador fixo na base */
.tx-scroll-indicator {
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 8px;
    background: rgba(108,117,125,0.8);
    pointer-events: none;
    opacity: 0;
    transition: opacity .2s;
    clip-path: polygon(
            0 0,
            100% 0,
            100% 100%,
            60% 100%,
            50% 150%,
            40% 100%,
            0 100%
    );
    z-index: 10;
}

#viewTxModal .edit-btn {
    cursor: pointer;
    color: #6c757d;
}
#viewTxModal .editing + .edit-btn {
    color: #0d6efd;
}
.tx-col.show-scroll-hint .tx-scroll-indicator {
    opacity: .85;
}

/* SIDEBAR DESKTOP */
.sidebar {
    position: fixed;
    top: 0; left: 0;
    height: 100vh;
    width: 64px;
    background: #eff0f1;
    transition: width .2s;
    z-index: 1040;
}
.sidebar:hover,
.sidebar:focus-within {
    width: 220px;
}

.sidebar .brand {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem 0;
    font-size: 1.1rem;
}

.sidebar .nav-link {
    color: #343A40;
    padding: .75rem .5rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: flex;
    align-items: center;
    justify-content: center;
}
.sidebar .nav-link:hover,
.sidebar .nav-link.active {
    background: #e8e8ea;
    color: #000;
}
.sidebar i { font-size: 1.25rem; }
.sidebar .link-text {
    display: none;
}
.sidebar:hover .link-text,
.sidebar:focus-within .link-text {
    display: inline;
}

.sidebar .sidebar-logo-expanded {
    display: none;
}
.sidebar .sidebar-logo-circle {
    display: block;
    width: 1.5rem;
    height: 1.5rem;
    background: #EDCE78;
    border-radius: 50%;
    margin: 0 auto;
}

.sidebar:hover .sidebar-logo-expanded,
.sidebar:focus-within .sidebar-logo-expanded {
    display: block;
}
.sidebar:hover .sidebar-logo-circle,
.sidebar:focus-within .sidebar-logo-circle {
    display: none;
}

@media (min-width: 1600px) {
    .sidebar {
        width: 220px;
    }
    .sidebar .sidebar-logo-expanded {
        display: block;
    }
    .sidebar .sidebar-logo-circle {
        display: none;
    }
}

/* --- NAV-LINK agora fica centralizado no modo compacto
   e ganha padding à esquerda quando a barra expande --- */
.sidebar .nav-link{
    display:flex;
    align-items:center;
    gap:.75rem;            /* espaço entre ícone e texto          */
    justify-content:center;
    padding:.75rem 0;      /* ↑↓ / ←→ (0 ←→ encosta menos)        */
}

.sidebar:hover   .nav-link,
.sidebar:focus-within .nav-link{
    justify-content:flex-start; /* desloca itens p/ a direita      */
    padding-left:1rem;          /* margem interna confortável      */
}

/* marca‐texto (“link-text”) herda o gap acima, não precisa margin */

/* ---------- SIDEBAR ---------- */
/*   < 1600 px  → colapsada (64 px) e expande no :hover
     ≥ 1600 px → já nasce expandida (220 px)              */
@media (min-width:992px){          /* desktop em geral   */
    .sidebar{ width:64px; }
    main{ margin-left:64px; }      /* não fica coberto   */
    .sidebar:hover,
    .sidebar:focus-within{
        width:220px;
    }
}
@media (min-width:1600px){         /* telas muito largas */
    .sidebar{ width:220px; }       /* sempre expandida   */
    main{ margin-left:220px; }
    /* texto e alinhamento SEM precisar de :hover       */
    .sidebar .link-text{ display:inline; }
    .sidebar .nav-link{
        justify-content:flex-start;
        padding-left:1rem;
    }
}

/* ───────────── ESCONDE NAVBAR NO DESKTOP (>992px) ───────────── */
@media (min-width: 992px) {
    .navbar-app .navbar-brand{
        display: none !important;
    }
    /* já que a navbar some, tira o margin-top do main */
    main {
        margin-top: 0 !important;
    }
}

/* ──────────── ESCONDE SIDEBAR NO MOBILE (<992px) ──────────── */
@media (max-width: 991.98px) {
    .sidebar {
        display: none !important;
    }
    main {
        margin-left: 0 !important;
    }
}


/* ────────────── HAMBURGUER ────────────── */
/* só aparece quando a sidebar está oculta (mobile) */
@media (min-width: 992px) {
    .btn-hamb {
        display: none !important;
    }
}
@media (max-width: 991.98px) {
    .btn-hamb {
        display: inline-flex !important;
    }
}

/* aplica um padding interno extra em todas as larguras */
main {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
}

/* quando a sidebar está colapsada (64px), soma mais 0.5rem */
@media (min-width: 992px) and (max-width: 1599.98px) {
    main {
        margin-left: calc(64px + 0.5rem);
    }
}

/* quando a sidebar está expandida (220px), soma mais 0.5rem */
@media (min-width: 1600px) {
    main {
        margin-left: calc(220px + 0.5rem);
    }
}


/* remove bullet padrão do UL colado no offcanvas */
.offcanvas-body ul{ list-style:none; padding:0; margin:0; }

#offcanvasNav.offcanvas-start{
    width:220px;          /* mesmo width da sidebar aberta        */
}
