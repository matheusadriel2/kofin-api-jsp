.tx-block{
    max-height:420px;
    overflow-y:auto;

    /* esconde o desenho da barra sem impedir o scroll  */
    scrollbar-width:none;          /* Firefox */
    -ms-overflow-style:none;       /* IE/Edge antigo */
}
.tx-block::-webkit-scrollbar{    /* Chrome/Safari/Edge */
    display:none;
}
.tx-item:hover .tx-actions,
.tx-item.show-actions .tx-actions{opacity:1}
.tx-block{
    max-height:calc(100vh - 420px); /* ocupa resto da página com folga */
    min-height:260px;
    overflow-y:auto;
}
.tx-block:empty::before{
    content:"Sem transações ainda";
    display:block;text-align:center;
    margin-top:3rem;color:#adb5bd;
}

.cards-wrap  {position:relative;padding:1rem;background:#6c757d;border-radius:.5rem;}
.h-scroll {
    overflow-x: auto;
    white-space: nowrap;
    padding-right: calc(1rem + 50px);
}

.h-scroll::-webkit-scrollbar{display:none;}

.card-item   {
    min-width:200px; height:140px; margin-right:1rem;
    background: #61a2cf; border-radius:.5rem; padding:.75rem;
    position:relative;
}
.last4       { font-size:.70rem; }

.card-actions {
    position:absolute; top:4px; right:4px;
    opacity:0; pointer-events:none; transition:opacity .15s;
}
.card-item:hover .card-actions,
.card-item.show-actions .card-actions{
    opacity:1; pointer-events:auto;
}

.add-card-btn {
    width: 28px;
    height: 28px;
}

/* resumo */
.summary-wrap {
    background:#6c757d; border-radius:.5rem; padding:1rem;
    display:flex; flex:1; flex-direction:column;
}
.summary-wrap .summary-grid { flex:1; display:flex; gap:1rem; }
.summary-wrap .summary-grid > div {
    flex:1; display:flex; align-items:center; justify-content:center;
    background:#212529; border-radius:.5rem; padding:.75rem; text-align:center;
}

/* ============ BARRA de SCROLL (hint) ============ */
/* nova barra-dica HORIZONTAL */
.scroll-hint {
    position: absolute;
    bottom: -10%;           /* fixa junto à base do container */
    left: 50%;                /* centraliza horizontalmente */
    transform: translateX(-50%);
    width: 42px;              /* comprimento maior, alinhado ao scroll */
    height: 6px;              /* espessura fina */
    border-radius: 3px;
    background: #6c757d;
    opacity: 0;
    transition: opacity .2s;
    pointer-events: none;
}
.show-hint {
    opacity: .9;
}

/* ============ LISTA de TRANSAÇÕES ============ */
.tx-block{max-height:420px;overflow-y:auto;}

/* mostra os botões no hover ou após clique/tap */
.tx-item:hover .tx-actions,
.tx-item.show-actions .tx-actions{
    opacity:1 !important;     /* sobrepõe utility classes do Bootstrap   */
    pointer-events:auto;
}
.tx-actions{
    opacity:0;                 /* invisível                              */
    pointer-events:none;       /* nada clicável                          */
    transition:opacity .15s;   /* animação suave                         */
    position:absolute; top:4px; right:4px;          /* onde já estavam   */
    display:flex; gap:.25rem; z-index:5;             /* idem             */
}

.tx-item:hover .tx-actions,
.tx-item.show-actions .tx-actions{
    opacity:1 !important;      /* força aparecer (sobrepõe utilities)    */
    pointer-events:auto;       /* agora pode clicar                      */
}

.tx-item{cursor:pointer;}
.tx-col {
    position: relative;
}

.tx-col {
    display: flex;
    flex-direction: column;
}

.tx-block {
    flex: 1;
    overflow-y: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}
.tx-block::-webkit-scrollbar {
    display: none;
}

/* Indicador fixo na base */
.tx-scroll-indicator {
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 8px;
    background: rgba(108,117,125,0.8);
    pointer-events: none;
    opacity: 0;
    transition: opacity .2s;
    clip-path: polygon(
            0 0,
            100% 0,
            100% 100%,
            60% 100%,
            50% 150%,
            40% 100%,
            0 100%
    );
    z-index: 10;
}

#viewTxModal .edit-btn {
    cursor: pointer;
    color: #6c757d;
}
#viewTxModal .editing + .edit-btn {
    color: #0d6efd;
}
.tx-col.show-scroll-hint .tx-scroll-indicator {
    opacity: .85;
}

/* SIDEBAR DESKTOP */
.sidebar {
    position: fixed;
    top: 0; left: 0;
    height: 100vh;
    width: 64px;
    background: #eff0f1;
    transition: width .2s;
    z-index: 1040;
}
.sidebar:hover,
.sidebar:focus-within {
    width: 220px;
}

.sidebar .brand {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem 0;
    font-size: 1.1rem;
}

.sidebar .nav-link {
    color: #343A40;
    padding: .75rem .5rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: flex;
    align-items: center;
    justify-content: center;
}
.sidebar .nav-link:hover,
.sidebar .nav-link.active {
    background: #e8e8ea;
    color: #000;
}
.sidebar i { font-size: 1.25rem; }
.sidebar .link-text {
    display: none;
}
.sidebar:hover .link-text,
.sidebar:focus-within .link-text {
    display: inline;
}

.sidebar .sidebar-logo-expanded {
    display: none;
}
.sidebar .sidebar-logo-circle {
    display: block;
    width: 1.5rem;
    height: 1.5rem;
    background: #EDCE78;
    border-radius: 50%;
    margin: 0 auto;
}

.sidebar:hover .sidebar-logo-expanded,
.sidebar:focus-within .sidebar-logo-expanded {
    display: block;
}
.sidebar:hover .sidebar-logo-circle,
.sidebar:focus-within .sidebar-logo-circle {
    display: none;
}

@media (min-width: 1600px) {
    .sidebar {
        width: 220px;
    }
    .sidebar .sidebar-logo-expanded {
        display: block;
    }
    .sidebar .sidebar-logo-circle {
        display: none;
    }
}

.sidebar .nav-link{
    display:flex;
    align-items:center;
    gap:.75rem;
    justify-content:center;
    padding:.75rem 0;
}

.sidebar:hover   .nav-link,
.sidebar:focus-within .nav-link{
    justify-content:flex-start;
    padding-left:1rem;
}

@media (min-width:992px){
    .sidebar{ width:64px; }
    main{ margin-left:64px; }
    .sidebar:hover,
    .sidebar:focus-within{
        width:220px;
    }
}
@media (min-width:1600px){
    .sidebar{ width:220px; }
    main{ margin-left:220px; }
    .sidebar .link-text{ display:inline; }
    .sidebar .nav-link{
        justify-content:flex-start;
        padding-left:1rem;
    }
}

/* NAVBAR NO DESKTOP */
@media (min-width: 992px) {
    .navbar-app .navbar-brand{
        display: none !important;
    }
    main {
        margin-top: 0 !important;
    }
}

/* MOBILE SIDEBAR */
@media (max-width: 991.98px) {
    .sidebar {
        display: none !important;
    }
    main {
        margin-left: 0 !important;
    }
}


/* HAMBURGUER */
@media (min-width: 992px) {
    .btn-hamb {
        display: none !important;
    }
}
@media (max-width: 991.98px) {
    .btn-hamb {
        display: inline-flex !important;
    }
}

main {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
}

@media (min-width: 992px) and (max-width: 1599.98px) {
    main {
        margin-left: calc(64px + 0.5rem);
    }
}

@media (min-width: 1600px) {
    main {
        margin-left: calc(220px + 0.5rem);
    }
}

.offcanvas-body ul{ list-style:none; padding:0; margin:0; }

#offcanvasNav.offcanvas-start{
    width:220px;
}

/* CARD FLAGS */
.card-flag {
    display: inline-block;
    width: 32px;
    height: 18px;
    margin-left: 4px;
    border-radius: 3px;
    position: relative;
    vertical-align: middle;
    font-family: sans-serif;
    font-size: 8px;
    line-height: 18px;
    text-align: center;
    color: white;
    overflow: hidden;
}

/* VISA */
.card-flag.visa {
    background: #1a1f71;
}
.card-flag.visa::before {
    content: "VISA";
    font-weight: bold;
    letter-spacing: 0.5px;
    transform: skew(-15deg);
    position: absolute;
    top: 0; left: 1px;
}

/* MASTERCARD */
.card-flag.mastercard {
    background: transparent;
}
.card-flag.mastercard::before,
.card-flag.mastercard::after {
    content: "";
    position: absolute;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    top: 2px;
}
.card-flag.mastercard::before {
    background: #eb001b;
    left: 1px;
}
.card-flag.mastercard::after {
    background: #f79e1b;
    left: 11px;
}

/* ELO */
.card-flag.elo {
    background: #00a4e0;
}
.card-flag.elo::before {
    content: "ELO";
    font-weight: bold;
    letter-spacing: 0.3px;
    position: absolute;
    top: 0; left: 3px;
    color: #ffd400;
    text-shadow: 1px 0 #fff;
}

/* AMEX */
.card-flag.amex {
    background: #2e77bb;
}
.card-flag.amex::before {
    content: "AMEX";
    font-weight: bold;
    letter-spacing: 0.3px;
    text-transform: uppercase;
    position: absolute;
    top: 0; left: 3px;
}
.card-flag.amex::after {
    content: "";
    position: absolute;
    bottom: 0; left: 0;
    width: 100%; height: 5px;
    background: linear-gradient(
            90deg,
            #2e77bb 0%, #fff 25%,
            #2e77bb 50%, #fff 75%,
            #2e77bb 100%
    );
}

